<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GlobalPort System - Controle de Acesso</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <header class="header">
        <div class="container">
            <nav class="nav">
                <div class="logo">
                    <div class="logo-icon">üè≠</div>
                    <span>GlobalPort System</span>
                </div>
                <ul class="nav-links">
                    <li>
                        <a href="#" onclick="showPage('dashboard', event)" class="nav-link active">
                            <span class="icon">üìä</span> Dashboard
                        </a>
                    </li>
                    <li>
                        <a href="#" onclick="showPage('registro', event)" class="nav-link">
                            <span class="icon">üö™</span> Controle de Acesso
                        </a>
                    </li>
                    <li>
                        <a href="#" onclick="showPage('manobras', event)" class="nav-link">
                            <span class="icon">üöõ</span> Gest√£o de Manobras
                        </a>
                    </li>
                    <li>
                        <a href="#" onclick="showPage('agendamentos', event)" class="nav-link">
                            <span class="icon">üóìÔ∏è</span> Agendamentos
                        </a>
                    </li>
                     <li>
                        <a href="#" onclick="showPage('consultas', event)" class="nav-link">
                            <span class="icon">üîç</span> Consultas
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="container">
        <div id="dashboard-page" class="page active">
            <div class="card" style="margin-bottom: 2rem;">
                <h1>Dashboard - Controle de Acesso</h1>
                <p style="color: var(--text-light); margin-top: 0.5rem;">Vis√£o geral das opera√ß√µes em tempo real</p>
            </div>
            
            <div class="turno-info">
                <div class="turno-card" id="turno-a">
                    <h3>Turno A</h3>
                    <p>07:00 - 15:00</p>
                    <div class="turno-status"></div>
                </div>
                <div class="turno-card" id="turno-b">
                    <h3>Turno B</h3>
                    <p>15:00 - 23:40</p>
                    <div class="turno-status"></div>
                </div>
                <div class="turno-card" id="turno-c">
                    <h3>Turno C</h3>
                    <p>23:40 - 07:00</p>
                    <div class="turno-status"></div>
                </div>
            </div>

            <div class="stats-grid">
                <div class="card">
                    <h3>üìà M√©tricas do Dia</h3>
                    <div class="stat-item">
                        <strong>Entradas Registradas (Hoje):</strong>
                        <span id="total-entradas">0</span>
                    </div>
                    <div class="stat-item">
                        <strong>Pessoas no P√°tio (Agora):</strong>
                        <span id="total-pessoas-agora">0</span>
                    </div>
                    <div class="stat-item">
                        <strong>Ve√≠culos no P√°tio (Agora):</strong>
                        <span id="veiculos-no-patio">0</span>
                    </div>
                    <div class="stat-item">
                        <strong>Opera√ß√µes de Manobra (Hoje):</strong>
                        <span id="manobras-hoje">0</span>
                    </div>
                </div>

                <div class="card">
                    <h3>‚ö° Centro de Controle</h3>
                    <div style="display: flex; flex-direction: column; gap: 12px;">
                        <button class="btn btn-primary" onclick="showPage('registro', event)">
                            <span class="icon">üìù</span> Novo Registro
                        </button>
                        <button class="btn btn-secondary" onclick="showPage('agendamentos', event)">
                            <span class="icon">üóìÔ∏è</span> Novo Agendamento
                        </button>
                        <button class="btn btn-secondary" onclick="showPage('consultas', event)">
                            <span class="icon">üîç</span> Consultar Registros
                        </button>
                    </div>
                </div>
            </div>

            <div class="stats-grid">
                <div class="card">
                    <h3>üïí Ve√≠culos Atualmente no P√°tio</h3>
                    <div class="table-container" style="max-height: 300px;">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Placa</th>
                                    <th>Empresa</th>
                                    <th>Pessoas</th>
                                    <th>Entrada</th>
                                </tr>
                            </thead>
                            <tbody id="lista-veiculos-no-patio">
                                </tbody>
                        </table>
                    </div>
                </div>

                <div class="card">
                    <h3>üìä Fluxo de Entradas (Hoje)</h3>
                    <div class="chart-container" id="fluxo-chart">
                        </div>
                </div>
            </div>
        </div>

        <div id="registro-page" class="page">
            <div class="card" style="margin-bottom: 2rem;">
                <h1>üö™ Controle de Acesso</h1>
                <p style="color: var(--text-light); margin-top: 0.5rem;">Registro de entrada e sa√≠da de ve√≠culos e pessoas</p>
            </div>
            
            <div class="card">
                <h3>üîç Buscar Agendamento / Registrar Sa√≠da</h3>
                <div class="form-grid" style="align-items: flex-end;">
                    <div class="form-group" style="margin-bottom: 0;">
                        <label for="busca-placa-agendamento">Buscar Placa (Agendamento ou Sa√≠da)</label>
                        <input type="text" id="busca-placa-agendamento" placeholder="ABC-1D23" style="font-size: 1.2rem;">
                    </div>
                    <div class="form-group" style="margin-bottom: 0;">
                        <button class="btn btn-primary" id="btn-buscar-placa">
                            <span class="icon">üîç</span> Buscar
                        </button>
                    </div>
                </div>
            </div>

            <form id="form-registro" class="card">
                <h3 id="form-registro-titulo">üìã Novo Registro de Entrada</h3>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label for="tipo_entrada">Tipo de Movimenta√ß√£o:</label>
                        <select id="tipo_entrada" name="tipo_entrada" required>
                            <option value="entrada">üü¢ Entrada</option>
                            <option value="saida">üî¥ Sa√≠da</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="tipo_veiculo">Tipo de Ve√≠culo:</label>
                        <select id="tipo_veiculo" name="tipo_veiculo" required>
                            <option value="carro">üöó Carro</option>
                            <option value="onibus">üöå √înibus</option>
                            <option value="caminhao">üöö Caminh√£o</option>
                            <option value="moto">üèçÔ∏è Moto</option>
                            <option value="van">üöê Van</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="placa_veiculo">Placa do Ve√≠culo:</label>
                        <input type="text" id="placa_veiculo" name="placa_veiculo" placeholder="ABC-1D23" required>
                    </div>

                    <div class="form-group">
                        <label for="quantidade_pessoas">Quantidade de Pessoas:</label>
                        <input type="number" id="quantidade_pessoas" name="quantidade_pessoas" value="1" min="1" max="100" required>
                    </div>

                    <div class="form-group">
                        <label for="nome">Nome do Respons√°vel:</label>
                        <input type="text" id="nome" name="nome" placeholder="Nome completo">
                    </div>

                    <div class="form-group">
                        <label for="cpf">CPF do Respons√°vel:</label>
                        <input type="text" id="cpf" name="cpf" placeholder="000.000.000-00">
                    </div>

                    <div class="form-group full-width">
                        <label for="empresa">Empresa/Contratante:</label>
                        <input type="text" id="empresa" name="empresa" placeholder="Nome da empresa ou organiza√ß√£o" list="empresas-list">
                    </div>

                    <div class="form-group full-width">
                        <label for="observacoes">Observa√ß√µes:</label>
                        <textarea id="observacoes" name="observacoes" rows="3" placeholder="Motivo da visita, destino, observa√ß√µes importantes..."></textarea>
                    </div>
                </div>

                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">
                        <span class="icon">üíæ</span> Salvar Registro
                    </button>
                    <button type="button" class="btn btn-secondary" onclick="showPage('dashboard', event)">
                        <span class="icon">‚Ü©Ô∏è</span> Voltar ao Dashboard
                    </button>
                </div>
            </form>
        </div>

        <div id="manobras-page" class="page">
            <div class="card" style="margin-bottom: 2rem;">
                <h1>üöõ Gest√£o de Manobras</h1>
                <p style="color: var(--text-light); margin-top: 0.5rem;">Agendamento e controle de opera√ß√µes de manobra</p>
            </div>
            
            <div class="manobras-grid">
                <div class="card">
                    <h3>üìÖ Nova Opera√ß√£o</h3>
                    <form id="form-manobra">
                        <div class="form-group">
                            <label for="manobra-placa">Placa do Ve√≠culo:</label>
                            <input type="text" id="manobra-placa" name="placa_veiculo" placeholder="ABC-1D23" required>
                        </div>

                        <div class="form-group">
                            <label for="manobra-motorista">Motorista/Operador:</label>
                            <input type="text" id="manobra-motorista" name="motorista" placeholder="Nome completo do motorista" required>
                        </div>

                        <div class="form-group">
                            <label for="manobra-local">Local da Opera√ß√£o:</label>
                            <select id="manobra-local" name="local_manobra" required>
                                <option value="">Selecione o local...</option>
                                <option value="P√°tio de M√°quinas">P√°tio de M√°quinas</option>
                                <option value="√Årea de Carga">√Årea de Carga</option>
                                <option value="Zona de Descarga">Zona de Descarga</option>
                                <option value="P√°tio Principal">P√°tio Principal</option>
                                <option value="√Årea de Manuten√ß√£o">√Årea de Manuten√ß√£o</option>
                                <option value="Outro">Outro</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="manobra-horario">Hor√°rio Previsto:</label>
                            <input type="datetime-local" id="manobra-horario" name="horario_previsto" required>
                        </div>

                        <div class="form-group">
                            <label for="manobra-observacoes">Instru√ß√µes/Observa√ß√µes:</label>
                            <textarea id="manobra-observacoes" name="observacoes" rows="3" placeholder="Instru√ß√µes especiais, equipamentos necess√°rios..."></textarea>
                        </div>

                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary">
                                <span class="icon">‚úÖ</span> Agendar Opera√ß√£o
                            </button>
                        </div>
                    </form>
                </div>

                <div class="card">
                    <h3>üìã Opera√ß√µes Agendadas</h3>
                    <div class="table-container">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Placa</th>
                                    <th>Motorista</th>
                                    <th>Local</th>
                                    <th>Hor√°rio</th>
                                    <th>Status</th>
                                    <th>A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="lista-manobras">
                                </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <div id="agendamentos-page" class="page">
            <div class="card" style="margin-bottom: 2rem;">
                <h1>üóìÔ∏è Agendamentos</h1>
                <p style="color: var(--text-light); margin-top: 0.5rem;">Pr√©-cadastro de visitantes e prestadores de servi√ßo</p>
            </div>
            
            <div class="manobras-grid">
                <div class="card">
                    <h3>üìÖ Novo Agendamento</h3>
                    <form id="form-agendamento">
                        <div class="form-group">
                            <label for="ag-placa">Placa do Ve√≠culo:</label>
                            <input type="text" id="ag-placa" name="placa_veiculo" placeholder="ABC-1D23" required>
                        </div>
                        <div class="form-group">
                            <label for="ag-nome">Nome do Respons√°vel:</label>
                            <input type="text" id="ag-nome" name="nome" placeholder="Nome completo" required>
                        </div>
                         <div class="form-group">
                            <label for="ag-cpf">CPF do Respons√°vel:</label>
                            <input type="text" id="ag-cpf" name="cpf" placeholder="000.000.000-00">
                        </div>
                        <div class="form-group">
                            <label for="ag-empresa">Empresa/Contratante:</label>
                            <input type="text" id="ag-empresa" name="empresa" placeholder="Nome da empresa">
                        </div>
                        <div class="form-group">
                            <label for="ag-horario">Hor√°rio Previsto:</label>
                            <input type="datetime-local" id="ag-horario" name="horario_previsto" required>
                        </div>
                        <div class="form-group">
                            <label for="ag-observacoes">Observa√ß√µes:</label>
                            <textarea id="ag-observacoes" name="observacoes" rows="3" placeholder="Motivo da visita..."></textarea>
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary">
                                <span class="icon">‚úÖ</span> Salvar Agendamento
                            </button>
                        </div>
                    </form>
                </div>

                <div class="card">
                    <h3>üìã Agendamentos Futuros</h3>
                    <div class="table-container">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Placa</th>
                                    <th>Respons√°vel</th>
                                    <th>Empresa</th>
                                    <th>Hor√°rio Previsto</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody id="lista-agendamentos">
                                </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <div id="consultas-page" class="page">
            <div class="card" style="margin-bottom: 2rem;">
                <h1>üîç Consultas e Relat√≥rios</h1>
                <p style="color: var(--text-light); margin-top: 0.5rem;">Filtre e exporte o hist√≥rico de movimenta√ß√µes</p>
            </div>
            
            <div class="card">
                <h3>Filtrar Registros</h3>
                <div class="form-grid" style="grid-template-columns: 1fr 1fr 1fr 1fr; align-items: flex-end;">
                    <div class="form-group">
                        <label for="filtro-data-inicio">Data In√≠cio:</label>
                        <input type="date" id="filtro-data-inicio" name="filtro-data-inicio">
                    </div>
                    <div class="form-group">
                        <label for="filtro-data-fim">Data Fim:</label>
                        <input type="date" id="filtro-data-fim" name="filtro-data-fim">
                    </div>
                    <div class="form-group">
                        <label for="filtro-placa">Placa:</label>
                        <input type="text" id="filtro-placa" name="filtro-placa" placeholder="ABC-1D23">
                    </div>
                    <div class="form-group">
                        <label for="filtro-empresa">Empresa:</label>
                        <input type="text" id="filtro-empresa" name="filtro-empresa" placeholder="Nome da empresa">
                    </div>
                </div>
                <div class="form-actions">
                    <button class="btn btn-primary" id="btn-filtrar">
                        <span class="icon">üîç</span> Filtrar
                    </button>
                    <button class="btn btn-secondary" id="btn-exportar-csv">
                        <span class="icon">üìä</span> Exportar para CSV
                    </button>
                </div>
            </div>

            <div class="card">
                <h3>Resultados da Consulta</h3>
                <div class="table-container">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Placa</th>
                                <th>Respons√°vel</th>
                                <th>Empresa</th>
                                <th>Pessoas</th>
                                <th>Entrada</th>
                                <th>Sa√≠da</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody id="lista-consultas">
                            <tr>
                                <td colspan="7" style="text-align: center; padding: 2rem; color: var(--text-light);">
                                    Use os filtros acima para buscar
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

    </main>

    <datalist id="empresas-list"></datalist>

    <script src="js/app.js"></script>
    <script src="js/dashboard.js"></script>
    <script src="js/registro.js"></script>
    <script src="js/manobras.js"></script>
    <script src="js/animations.js"></script>
    <script src="js/agendamentos.js"></script> <script src="js/consultas.js"></script> </body>
</html>